(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var a,i=n(0),r=n.n(i),c=n(28),s=n.n(c),u=(n(84),n(39)),l=(n(85),n(141)),o=n(36),d=function(){return Object(o.b)()},p=o.c,b=n(67),f=n.n(b),j=n(2),h=function(e){var t=p((function(e){return e.cityReducer})).disable,n=e.deg;n=8*n/360;var a=["\ud83e\udc7b","\ud83e\udc7f","\ud83e\udc78","\ud83e\udc7c","\ud83e\udc79","\ud83e\udc7d","\ud83e\udc7a","\ud83e\udc7e"][n=((n=Math.round(n))+8)%8];return Object(j.jsxs)("div",{className:f.a.city,children:[Object(j.jsxs)("h3",{children:["\u0413\u043e\u0440\u043e\u0434: ",e.name," "]}),Object(j.jsxs)("p",{children:["\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",Math.round(e.temp-273),"\u2103 ",Object(j.jsx)("img",{src:"https://openweathermap.org/img/w/".concat(e.img,".png"),alt:"icon"})]}),Object(j.jsxs)("p",{children:["\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c: ",e.humidity,"%"]}),Object(j.jsxs)("p",{children:["\u0410\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u043d\u043e\u0435 \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435: ",e.pressure]}),Object(j.jsxs)("p",{children:["\u0421\u0438\u043b\u0430 \u0438 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u0442\u0440\u0430: ",e.wind," \u043c/\u0441 ",Object(j.jsx)("span",{style:{color:"#d32f2f"},children:a})]}),Object(j.jsxs)("p",{children:["\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445: ",e.time,"  "]}),Object(j.jsx)(l.a,{size:"small",variant:"contained",color:"error",disabled:t,onClick:function(){return e.deleteSelectedCity(e.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})," ",Object(j.jsx)("span",{children:" "}),Object(j.jsx)(l.a,{size:"small",variant:"contained",color:"success",disabled:t,onClick:function(){return e.updateCity(e.id)},children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]})},m=r.a.memo(h),O=n(138),y=n(3),g=n(26),v=n(27),x=n.n(v),C=n(44),w=n(45),k=n.n(w),L=Object(g.b)("city/fetchAll",function(){var e=Object(C.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("https://htmlweb.ru/geo/api.php?json&city_name=".concat(t,"&api_key=c0ce976f81633aafb700594fe97582e6"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),V=Object(g.b)("city/fetch",function(){var e=Object(C.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(t.name,",").concat(t.country,"&appid=634d06f1747beb716b919ed5b586d4d0"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0439\u0442\u0438 \u0433\u043e\u0440\u043e\u0434, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),S=Object(g.b)("city/fetchUpdate",function(){var e=Object(C.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("https://api.openweathermap.org/data/2.5/weather?id=".concat(t.id,"&appid=634d06f1747beb716b919ed5b586d4d0"));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue("\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0439\u0442\u0438 \u0433\u043e\u0440\u043e\u0434, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),_=n(53),R=n.n(_),A=Object(g.c)({name:"city",initialState:{listCities:[],value:" ",isLoading:!1,error:"",selectValue:[],general:[],check:[],disable:!1,name:""},reducers:{inputValue:function(e,t){e.value=t.payload},russianName:function(e,t){e.name=t.payload},setLocalStorage:function(e,t){e.selectValue=t.payload},deleteCity:function(e,t){e.disable=!0;var n=e.selectValue.findIndex((function(e){return e.id===t.payload}));e.selectValue.splice(n,1),e.disable=!1}},extraReducers:(a={},Object(y.a)(a,L.fulfilled.type,(function(e,t){e.isLoading=!1,e.disable=!1,e.error="",e.listCities=[],e.listCities=t.payload})),Object(y.a)(a,L.pending.type,(function(e){e.isLoading=!0,e.error=""})),Object(y.a)(a,L.rejected.type,(function(e,t){e.isLoading=!1,e.disable=!1,e.error=t.payload})),Object(y.a)(a,V.fulfilled.type,(function(e,t){e.isLoading=!1,e.disable=!1,e.error="",e.listCities=[],e.value="",0===e.selectValue.filter((function(e){return e.id===t.payload.id})).length&&(t.payload.time=R()().format("MM-DD-YYYY HH:mm:ss"),t.payload.nameRu=e.name,e.selectValue.push(t.payload))})),Object(y.a)(a,V.pending.type,(function(e){e.isLoading=!0,e.disable=!0,e.error=""})),Object(y.a)(a,V.rejected.type,(function(e,t){e.isLoading=!1,e.disable=!1,e.listCities=[],e.value="",e.error=t.payload})),Object(y.a)(a,S.fulfilled.type,(function(e,t){e.isLoading=!1,e.disable=!1,e.error="",t.payload.time=R()().format("MM-DD-YYYY HH:mm:ss");var n=e.selectValue.findIndex((function(e){return e.id===t.payload.id}));t.payload.nameRu=e.selectValue[n].nameRu,e.selectValue[n]=t.payload})),Object(y.a)(a,S.pending.type,(function(e){e.isLoading=!0,e.disable=!0,e.error=""})),Object(y.a)(a,S.rejected.type,(function(e,t){e.isLoading=!1,e.disable=!1,e.error=t.payload})),a)}),I=A.reducer,N=n(54),Y=n.n(N),z=function(e){var t=p((function(e){return e.cityReducer})).disable,n=d(),a=p((function(e){return e.cityReducer})),i=a.listCities,r=a.value;return Object(j.jsxs)("div",{className:Y.a.autocomplete,children:[Object(j.jsx)(O.a,{sx:{display:"inline-block","& input":{width:350,fontSize:16,height:47,marginTop:3,marginRight:2,bgcolor:"background.paper",border:"3px solid #D9DADF",borderRadius:2,color:function(e){return e.palette.getContrastText(e.palette.background.paper)}}},id:"input-demo",options:Object.values(i),noOptionsText:Object(j.jsxs)("span",{style:{color:"red",fontSize:18},children:[Object(j.jsx)("span",{style:{fontSize:35,paddingRight:20},children:"\u26a0"}),"\u041f\u043e\u043b\u0435 \u0432\u0432\u043e\u0434\u0430 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442: \xabA-z\xbb \xabA-\u044f\xbb \xabspace\xbb \xab , \xbb \xab () \xbb \xab - \xbb "]}),getOptionLabel:function(e){return e.full_name||" "},inputValue:r,isOptionEqualToValue:function(e,t){return e.id===t.id},onInputChange:function(e,t){t.replace(/[A-Za-zA-\u042f\u0430-\u044f\u0415\u0435/' (),-]/g,"")||n(A.actions.inputValue(t))},renderInput:function(e){return Object(j.jsx)("div",{ref:e.InputProps.ref,children:Object(j.jsx)("input",Object(u.a)({placeholder:"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430",type:"text"},e.inputProps))})}}),Object(j.jsx)("div",{className:Y.a.updateAll,children:Object(j.jsx)(l.a,{variant:"contained",color:"success",size:"large",onClick:e.updateAllCity,disabled:t,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0432\u0441\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"})})]})},D=i.memo(z),E=n(144),F=n(140);function J(){var e=d(),t=p((function(e){return e.cityReducer})),n=t.value,a=t.error,r=t.isLoading,c=t.listCities,s=t.selectValue;Object(i.useEffect)((function(){var t=localStorage.getItem("cities");t&&e(A.actions.setLocalStorage(JSON.parse(t)))}),[e]),Object(i.useEffect)((function(){localStorage.setItem("cities",JSON.stringify(s))}),[s]),Object(i.useEffect)((function(){n.length>2&&n.length<20&&e(L(n))}),[n,e]),Object(i.useEffect)((function(){var t=Object.values(c).filter((function(e){return e.full_name===n})),a=Object(u.a)({},t[0]);a.full_name&&(e(V(a)),e(A.actions.russianName(a.name)))}),[n,e,c]);var l=Object(i.useCallback)((function(t){var n=s.findIndex((function(e){return e.id===t})),a=s[n];e(S(a))}),[e,s]),o=Object(i.useCallback)((function(){for(var t=0;t<s.length;t++)e(S(s[t]))}),[e,s]),b=Object(i.useCallback)((function(t){e(A.actions.deleteCity(t))}),[e]);return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("div",{className:"header",children:[r&&Object(j.jsx)(E.a,{color:"success"}),a&&Object(j.jsx)("h1",{children:Object(j.jsx)(F.a,{variant:"filled",severity:"error",children:"\u0421\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0439\u0442\u0438 \u0433\u043e\u0440\u043e\u0434, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430!"})}),Object(j.jsx)(D,{updateAllCity:o})]}),Object(j.jsx)("div",{className:"city-block",children:s.map((function(e,t){return Object(j.jsx)(m,{id:e.id,index:t,name:e.nameRu,time:e.time,temp:e.main.temp,humidity:e.main.humidity,pressure:e.main.pressure,wind:e.wind.speed,deg:e.wind.deg,img:e.weather[0].icon,updateCity:l,deleteSelectedCity:b},e.id)}))})]})}var M=r.a.memo(J),T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,145)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))},H=n(23),P=Object(H.b)({cityReducer:I}),W=Object(g.a)({reducer:P});s.a.render(Object(j.jsx)(o.a,{store:W,children:Object(j.jsx)(M,{})}),document.getElementById("root")),T()},54:function(e,t,n){e.exports={autocomplete:"InputComplete_autocomplete__3OvwS",updateAll:"InputComplete_updateAll__2LJYq"}},67:function(e,t,n){e.exports={city:"CityWeatherForm_city__4ZOJx"}},84:function(e,t,n){},85:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.8bac8607.chunk.js.map